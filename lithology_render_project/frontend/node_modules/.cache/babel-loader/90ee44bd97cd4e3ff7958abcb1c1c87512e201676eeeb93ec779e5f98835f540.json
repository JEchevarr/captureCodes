{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[primaryCategories,setPrimaryCategories]=useState([]);const[selectedPrimary,setSelectedPrimary]=useState(null);const[subcategories,setSubcategories]=useState([]);const[selectedOptions,setSelectedOptions]=useState({});const[captureCode,setCaptureCode]=useState(\"\");useEffect(()=>{axios.get(\"/api/primary_categories\").then(response=>{setPrimaryCategories(response.data);});},[]);const handlePrimarySelect=(id,code)=>{setSelectedPrimary({id,code});setSubcategories([]);setSelectedOptions({});setCaptureCode(\"\");axios.get(`/api/subcategories/${id}`).then(response=>{setSubcategories(response.data);});};const handleOptionChange=(subcategoryId,value,isMultiple)=>{setSelectedOptions(prev=>{const updated={...prev};if(isMultiple){updated[subcategoryId]=updated[subcategoryId]||[];if(updated[subcategoryId].includes(value)){updated[subcategoryId]=updated[subcategoryId].filter(v=>v!==value);}else{updated[subcategoryId].push(value);}}else{updated[subcategoryId]=value;}return updated;});};const buildCaptureCode=()=>{axios.post(\"/api/build_code\",{primary_code:selectedPrimary.code,selections:selectedOptions}).then(response=>{setCaptureCode(response.data.capture_code);});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lithology Capture Code Generator\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Primary Category\"}),primaryCategories.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePrimarySelect(category.id,category.code),style:{margin:\"5px\",padding:\"10px\",backgroundColor:(selectedPrimary===null||selectedPrimary===void 0?void 0:selectedPrimary.id)===category.id?\"lightblue\":\"white\"},children:category.name},category.id))]}),subcategories.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Subcategories\"}),subcategories.map(subcategory=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:subcategory.name}),/*#__PURE__*/_jsx(\"div\",{children:subcategory.single_choice?/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleOptionChange(subcategory.id,e.target.value,false),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select--\"}),subcategory.options.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.code,children:option.name},option.id))]}):subcategory.options.map(option=>/*#__PURE__*/_jsxs(\"label\",{style:{margin:\"0 10px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:option.code,onChange:()=>handleOptionChange(subcategory.id,option.code,true)}),option.name]},option.id))})]},subcategory.id)),/*#__PURE__*/_jsx(\"button\",{onClick:buildCaptureCode,style:{marginTop:\"20px\"},children:\"Generate Capture Code\"})]}),captureCode&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Capture Code\"}),/*#__PURE__*/_jsx(\"p\",{children:captureCode})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","App","primaryCategories","setPrimaryCategories","selectedPrimary","setSelectedPrimary","subcategories","setSubcategories","selectedOptions","setSelectedOptions","captureCode","setCaptureCode","get","then","response","data","handlePrimarySelect","id","code","handleOptionChange","subcategoryId","value","isMultiple","prev","updated","includes","filter","v","push","buildCaptureCode","post","primary_code","selections","capture_code","style","padding","children","map","category","onClick","margin","backgroundColor","name","length","subcategory","single_choice","onChange","e","target","options","option","type","marginTop"],"sources":["C:/StoneTurn/Projects/CaptureCodes/captureCodes/lithology_render_project/frontend/src/App.js"],"sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst App = () => {\n  const [primaryCategories, setPrimaryCategories] = useState([]);\n  const [selectedPrimary, setSelectedPrimary] = useState(null);\n  const [subcategories, setSubcategories] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [captureCode, setCaptureCode] = useState(\"\");\n\n  useEffect(() => {\n    axios.get(\"/api/primary_categories\").then((response) => {\n      setPrimaryCategories(response.data);\n    });\n  }, []);\n\n  const handlePrimarySelect = (id, code) => {\n    setSelectedPrimary({ id, code });\n    setSubcategories([]);\n    setSelectedOptions({});\n    setCaptureCode(\"\");\n    axios.get(`/api/subcategories/${id}`).then((response) => {\n      setSubcategories(response.data);\n    });\n  };\n\n  const handleOptionChange = (subcategoryId, value, isMultiple) => {\n    setSelectedOptions((prev) => {\n      const updated = { ...prev };\n      if (isMultiple) {\n        updated[subcategoryId] = updated[subcategoryId] || [];\n        if (updated[subcategoryId].includes(value)) {\n          updated[subcategoryId] = updated[subcategoryId].filter((v) => v !== value);\n        } else {\n          updated[subcategoryId].push(value);\n        }\n      } else {\n        updated[subcategoryId] = value;\n      }\n      return updated;\n    });\n  };\n\n  const buildCaptureCode = () => {\n    axios\n      .post(\"/api/build_code\", {\n        primary_code: selectedPrimary.code,\n        selections: selectedOptions,\n      })\n      .then((response) => {\n        setCaptureCode(response.data.capture_code);\n      });\n  };\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h1>Lithology Capture Code Generator</h1>\n      <div>\n        <h2>Select Primary Category</h2>\n        {primaryCategories.map((category) => (\n          <button\n            key={category.id}\n            onClick={() => handlePrimarySelect(category.id, category.code)}\n            style={{\n              margin: \"5px\",\n              padding: \"10px\",\n              backgroundColor: selectedPrimary?.id === category.id ? \"lightblue\" : \"white\",\n            }}\n          >\n            {category.name}\n          </button>\n        ))}\n      </div>\n\n      {subcategories.length > 0 && (\n        <div>\n          <h2>Select Subcategories</h2>\n          {subcategories.map((subcategory) => (\n            <div key={subcategory.id}>\n              <h3>{subcategory.name}</h3>\n              <div>\n                {subcategory.single_choice ? (\n                  <select\n                    onChange={(e) =>\n                      handleOptionChange(subcategory.id, e.target.value, false)\n                    }\n                  >\n                    <option value=\"\">--Select--</option>\n                    {subcategory.options.map((option) => (\n                      <option key={option.id} value={option.code}>\n                        {option.name}\n                      </option>\n                    ))}\n                  </select>\n                ) : (\n                  subcategory.options.map((option) => (\n                    <label key={option.id} style={{ margin: \"0 10px\" }}>\n                      <input\n                        type=\"checkbox\"\n                        value={option.code}\n                        onChange={() =>\n                          handleOptionChange(subcategory.id, option.code, true)\n                        }\n                      />\n                      {option.name}\n                    </label>\n                  ))\n                )}\n              </div>\n            </div>\n          ))}\n          <button onClick={buildCaptureCode} style={{ marginTop: \"20px\" }}>\n            Generate Capture Code\n          </button>\n        </div>\n      )}\n\n      {captureCode && (\n        <div>\n          <h2>Capture Code</h2>\n          <p>{captureCode}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}